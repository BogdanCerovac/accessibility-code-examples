For updating status we can use two methods:

1. in the c#-code we can use:

```c#
    await DependencyService.Get<IA11YService>().Speak(errorText, longDelay ? 6000 : 3000);
```
2. in xaml we can use:
```xml
    <Label
        x:Name="errorLabel"
        effects:A11YEffect.ControlType="LiveUpdate"
        AutomationProperties.IsInAccessibleTree="True"
        Text="{Binding FooterText}" />
```
When the text of **errorLabel** is changing then this will also be told to the user, by implementing the interface IA11YService this works for Android AND iOS.

Declaring IA11YService interface Xamarin Forms:

```c#
using System.Threading.Tasks;
using Xamarin.Forms;

namespace Project.Common.Services
{
    public interface IA11YService
    {
        ...
        Task Speak(string text, int pauseInMs = 0);
        ...
    }
}
```
See also [IA11YService](./A11YService.md)

Implementation for Android:
```c#
[assembly: Dependency(typeof(A11YService))]
namespace Project.Droid.Services
{
    public class A11YService : IA11YService
    {
        private readonly AccessibilityManager _accessibilityManager = (AccessibilityManager)Xamarin.Essentials.Platform.CurrentActivity.GetSystemService(Context.AccessibilityService);
        
        ...
        
        public async Task Speak(string text, int pauseInMs = 0)
        {
            if (IsInVoiceOverMode() && !string.IsNullOrEmpty(text))
            {
                if (pauseInMs > 0)
                    await Task.Delay(pauseInMs);
                Xamarin.Essentials.Platform.CurrentActivity.Window?.DecorView?.AnnounceForAccessibility(text.StripHtml());
            }
        }
    }
}
```
for a complete implementation see [Android A11YService implementation](./A11YService_Android.md).

Implementation for iOS:
```c#
[assembly: Dependency(typeof(A11YService))]
namespace DigiD.iOS.Services
{
    public class A11YService : IA11YService
    {
        ...

        public async Task Speak(string text, int pauseInMs = 0)
        {
            if (UIAccessibility.IsVoiceOverRunning && !string.IsNullOrEmpty(text))
            {
                if (pauseInMs > 0)
                    await Task.Delay(pauseInMs);

                UIAccessibility.PostNotification(UIAccessibilityPostNotification.Announcement, Foundation.NSObject.FromObject(text.StripHtml()));
            }
        }
    }
}
```
for a complete implementation see [iOS A11YService implementation](./A11YService_iOS.md).
